font-family-base = Arial, sans-serif
color-border = #ccc
color-primary = #007bff
color-primary-dark = #0056b3
color-bg-light = #f4f4f4
color-bg-white = #fff
color-text = #333
color-text-muted = #888
font-size-base = 16px
font-size-sm = 14px
font-size-md = 18px
padding-xs = 8px
padding-sm = 10px
padding-base = 15px
padding-md = 20px
border-radius-base = 5px
breakpoint-md = 768px

border(direction = 0, n = 1px, style = solid, color = color-border)
  if style == 0
    if direction == 0
      border none
    else
      border-{direction} none
  else
    if direction == 0
      border n style color
    else
      border-{direction} n style color

border-radius(n = border-radius-base)
  border-radius n

reset-list()
  list-style-type none
  padding 0
  margin 0

*
  box-sizing border-box

body
  font-family font-family-base
  margin 0
  padding 0

.header
  display grid
  grid-template-columns 250px 1fr 200px
  align-items center
  padding padding-sm padding-md
  border(bottom, 1px, solid, color-border)

  .logo-wrapper
    max-width 160px

    img
      max-width 100%
      height auto

  .search-container
    display grid
    align-items center
    margin-left padding-md

    .search-bar
      width 100%
      padding padding-xs
      font-size font-size-base
      border(0, 1px, solid, color-border)
      border-radius()

  .cart-button
    padding padding-sm padding-md
    font-size font-size-base
    cursor pointer
    background-color color-primary
    color color-bg-white
    border(0, 0)
    border-radius()
    justify-self center

    &:hover
      background-color color-primary-dark

.main-container
  display grid
  grid-template-columns 250px calc(100% - 250px - 220px)
  gap padding-md
  padding padding-md

  .sidebar
    background-color color-bg-light
    padding padding-md
    border(0, 1px, solid, color-border)
    width 250px
    box-sizing border-box

    ul
      reset-list()

    .catalog-title
      font-size font-size-md
      font-weight bold
      margin-bottom padding-md

    li
      margin-bottom 10px

    a
      text-decoration none
      color color-text
      font-size font-size-base

      &:hover
        text-decoration underline

  .product-grid
    display grid
    grid-template-columns repeat(auto-fill, minmax(250px, 1fr))
    gap padding-md

    .product-card
      display grid
      grid-template-rows auto 1fr auto
      background-color color-bg-white
      border(0, 1px, solid, color-border)
      border-radius()
      padding padding-base

      .product-image
        position relative
        width 100%
        overflow hidden

        &::before
          content ''
          display block
          padding-top 100%

        img
          position absolute
          top 0
          left 0
          width 100%
          height 100%
          object-fit cover
          display block

      .product-info
        display grid
        grid-template-columns 1fr auto
        align-items center
        margin-top padding-xs

        .product-details
          display grid
          grid-template-rows auto auto

          .product-name
            font-size font-size-base
            font-weight bold

          .product-price
            font-size font-size-sm
            color color-text-muted

      .buy-button
        background-color color-primary
        color color-bg-white
        padding padding-sm
        border(0, 0)
        border-radius()
        cursor pointer
        font-size font-size-sm
        justify-self end

        &:hover
          background-color color-primary-dark

@media (max-width: breakpoint-md)
  .header
    grid-template-columns 1fr
    grid-template-rows auto auto auto
    text-align center

    .logo-wrapper,
    .search-container,
    .cart-button
      margin padding-sm 0
      justify-self center

  .main-container
    grid-template-columns 1fr
    grid-template-rows auto auto
    gap padding-md
    padding padding-sm

    .sidebar
      display block
      width 100%
      background-color color-bg-light
      text-align center
      border(top, 1px, solid, color-border)
      padding padding-md
      box-sizing border-box
      order 1

      ul
        padding 0

      .catalog-title
        margin-top 0

    .product-grid
      grid-template-columns repeat(auto-fill, minmax(150px, 1fr))
      order 2

    .product-image::before
      padding-top 100%

    .product-image img
      object-fit cover

    .product-info
      grid-template-columns 1fr
      grid-template-rows auto auto auto
      text-align center

    .buy-button
      margin-top padding-xs
